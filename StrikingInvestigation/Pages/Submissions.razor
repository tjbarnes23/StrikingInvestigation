@page "/Submissions"

<div class="ml-3 mt-3">
    <h1>Submissions</h1>

    <br />

    <p style="max-width: 800px">
        Here you can see all the submissions you've made for the various striking tests.
        Only the most recent submission for a given test is stored.  If you would like to change
        any of the submissions below, run the test again and your new submission will replace what is below.
    </p>

    <p>
        <i>Note: At present all submissions for all users are shown below. The statement above will be
        implemented once login functionality is added.</i>
    </p>

    <br />

    @if (TestSubmissions == null)
    {
        <div class="spinner"></div>
    }
    else
    {
        <table class="table table-striped" style="max-width: 800px">
            <thead>
                <tr style="font-size: small; color: white; background-color: gray">
                    <th class="align-middle" style="font-weight:normal; padding: 6px">ID</th>
                    <th class="align-middle" style="font-weight:normal; padding: 6px">User ID</th>
                    <th class="align-middle" style="font-weight:normal; padding: 6px">Test date</th>
                    <th class="align-middle" style="font-weight:normal; padding: 6px">Test type</th>
                    <th class="align-middle" style="font-weight:normal; padding: 6px">Test ID</th>
                    <th class="align-middle" style="font-weight:normal; padding: 6px">Gap (ms)</th>
                    <th class="align-middle" style="font-weight:normal; padding: 6px">A or B</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var testSubmission in TestSubmissions)
                {
                    <tr style="font-size: small">
                        <td class="align-middle" style="padding: 6px">@testSubmission.Id</td>
                        <td class="align-middle" style="padding: 6px">@testSubmission.UserId</td>
                        <td class="align-middle" style="padding: 6px">@testSubmission.TestDate</td>
                        <td class="align-middle" style="padding: 6px">@testSubmission.TestType</td>
                        <td class="align-middle" style="padding: 6px">@testSubmission.TestId</td>
                        <td class="align-middle" style="padding: 6px">@testSubmission.Gap</td>
                        <td class="align-middle" style="padding: 6px">@testSubmission.AB</td>
                    </tr>
                }
            </tbody>
        </table>
    }
</div>
